(this["webpackJsonpbearslairs-web"]=this["webpackJsonpbearslairs-web"]||[]).push([[0],{186:function(e,t,a){e.exports=a(350)},192:function(e,t,a){},246:function(e,t){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=a(82),i=a(12),s=(a(191),a(192),a(193),a(37)),u=a(38),m=a(40),h=a(41),d=a(43),p=a(35),g=a(30),f=a(21),y=a(13),E=a(61),b=a(70),k=a(185),v=a(17),w=a(179),j=a.n(w),x=a(58),C=a(57),S=a(180),O=a.n(S),I={lat:41.820582,lng:23.478257},N=C.parse(window.location.search),D=new x.a,L=["bg","en","ru"],T=["/lair-baby.png","/lair-mama.png","/lair-papa.png"],R=["/lair-baby-icon.png","/lair-mama-icon.png","/lair-papa-icon.png"],B=["/bike-rack.png","/bike-small.png","/bike-large.png"],_=["/bike-rack-icon.png","/bike-small-icon.png","/bike-large-icon.png"],z=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={language:"en",copy:{carousel:[],blurbs:[],cards:[]},temperature:{value:0,created_at:"2020-01-01T00:00:01Z"},humidity:{value:0,created_at:"2020-01-01T00:00:01Z"}},e.anchors={about:r.a.createRef(),lairs:r.a.createRef(),map:r.a.createRef()},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=L.includes(N.lang)?N.lang:L.includes(D.get("lang"))?D.get("lang"):this.state.language;this.setState((function(e){return{language:t,copy:e.copy}})),D.set("lang",t,{path:"/"}),fetch("https://raw.githubusercontent.com/bearslairs/bearslairs-data/master/copy/"+t+"/home.json").then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{language:e.language,copy:t}}))})).catch(console.log),fetch("https://api.ubibot.io/channels/13604?api_key=609210eb2306427a88d662d48ddb578d").then((function(e){return e.json()})).then((function(t){if("success"===t.result){var a=JSON.parse(t.channel.last_values);e.setState((function(e){return{temperature:a.field1,humidity:a.field2}}))}})).catch(console.log)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{id:"container-logo"},r.a.createElement(v.a,null,r.a.createElement(E.a,{src:"/logo.png",className:"m-auto"}))),r.a.createElement(k.a,{id:"container-nav"},r.a.createElement(b.a,{className:"m-auto"},r.a.createElement(b.a.Link,{onClick:function(){return window.scrollTo(0,e.anchors.about.current.offsetTop)}},"about"),r.a.createElement(b.a.Link,{onClick:function(){return window.scrollTo(0,e.anchors.lairs.current.offsetTop)}},"prices"),r.a.createElement(b.a.Link,{onClick:function(){return window.scrollTo(0,e.anchors.map.current.offsetTop)}},"location"))),r.a.createElement(y.a,{id:"container-header",fluid:!0,style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("h2",null,"secure self storage in bansko",r.a.createElement("br",null),"with access at your convenience")),r.a.createElement(y.a,{id:"container-environment"},r.a.createElement("h3",null,"real-time environment monitoring"),r.a.createElement("p",null,"we monitor temperature, humidity and light within the facility and publish those readings at \xa0",r.a.createElement("a",{href:"https://space.ubibot.io/space/user/device/channel-id/13604"},"ubibot.io/bearslairs-bansko"),",",r.a.createElement("br",null),"so our customers can stay informed of the environmetal conditions of their self-storage. The latest readings taken were:"),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},r.a.createElement(f.a,{xl:"auto",md:"auto"},r.a.createElement(j.a,{theme:"dark",value:Math.round(10*this.state.temperature.value)/10,max:1.3*this.state.temperature.value,steps:"3",format:"\xb0C",size:"large",height:"200"})),r.a.createElement(f.a,{xl:"auto",md:"auto"},r.a.createElement("h4",null,"temperature"),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Europe/Sofia"}).format(new Date(this.state.temperature.created_at)),":\xa0",r.a.createElement("strong",null,Math.round(10*this.state.temperature.value)/10,"\xb0C"),r.a.createElement("h4",null,"humidity"),new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",timeZone:"Europe/Sofia"}).format(new Date(this.state.humidity.created_at)),":\xa0",r.a.createElement("strong",null,this.state.humidity.value,"%")))),r.a.createElement(y.a,{id:"container-about",ref:this.anchors.about,fluid:!0},this.state.copy.blurbs.slice(0,1).map((function(e,t){return r.a.createElement(y.a,{key:t},r.a.createElement("h3",null,e.title),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},e.copy.map((function(t,a){return r.a.createElement(f.a,{xl:12/e.copy.length,key:a},r.a.createElement(E.a,{src:t.image}),r.a.createElement("p",null,t.text))}))))}))),r.a.createElement(y.a,{id:"container-security",fluid:!0},r.a.createElement(y.a,null,r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},this.state.copy.blurbs.slice(1,2).map((function(e,t){return r.a.createElement(f.a,{xl:7,key:t},r.a.createElement("h3",null,e.title),e.copy.map((function(e,t){return r.a.createElement("p",{key:t},e)})),r.a.createElement(d.LinkContainer,{to:"/book"},r.a.createElement(p.a,{size:"sm"},"book now")))}))))),r.a.createElement(y.a,{id:"container-lair",ref:this.anchors.lairs},r.a.createElement("h3",null,"choose your lair"),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},this.state.copy.cards.slice(0,3).map((function(e,t){return r.a.createElement(f.a,{key:t},r.a.createElement(g.a,{className:"h-100"},r.a.createElement(g.a.Header,null,e.title),r.a.createElement("div",{style:{height:"200px",backgroundImage:"url("+T[t]+")"}},r.a.createElement(E.a,{src:R[t],alt:e.image.alt,style:{marginTop:"25px"}})),r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,null,e.description.join(" ")),r.a.createElement("hr",null),r.a.createElement("ul",{style:{lmargin:0,padding:0}},e.features.map((function(e,t){return r.a.createElement("li",{key:t,style:{fontWeight:600,margin:0,padding:0}},e.text,r.a.createElement("ul",{style:{lmargin:0,padding:0}},e.details.map((function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none",fontWeight:"normal",margin:0,padding:0}},e)}))))})))),r.a.createElement(g.a.Footer,null,r.a.createElement(d.LinkContainer,{to:e.button.link},r.a.createElement(p.a,{size:"sm"},e.button.text)))))})))),r.a.createElement(y.a,{id:"container-adaptive",fluid:!0},this.state.copy.blurbs.slice(2,3).map((function(e,t){return r.a.createElement(y.a,{key:t},r.a.createElement("h3",null,e.title),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},r.a.createElement(f.a,{xl:7},r.a.createElement("p",null,e.copy[0]))),r.a.createElement("blockquote",{className:"blockquote"},r.a.createElement("p",null,e.copy[1])))}))),r.a.createElement(y.a,{id:"container-bike",fluid:!0},this.state.copy.blurbs.slice(3,4).map((function(e,t){return r.a.createElement(y.a,{key:t},r.a.createElement("h3",null,e.title),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},r.a.createElement(f.a,{xl:8},r.a.createElement("p",null,e.copy[0]))))})),r.a.createElement(y.a,null,r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},this.state.copy.cards.slice(3,6).map((function(e,t){return r.a.createElement(f.a,{key:t},r.a.createElement(g.a,{className:"h-100"},r.a.createElement(g.a.Header,null,e.title),r.a.createElement("div",{style:{height:"200px",backgroundImage:"url("+B[t]+")"}},r.a.createElement(E.a,{src:_[t],alt:e.image.alt,style:{marginTop:"25px"}})),r.a.createElement(g.a.Body,null,r.a.createElement(g.a.Title,null,e.description.join(" ")),r.a.createElement("hr",null),r.a.createElement("ul",{style:{lmargin:0,padding:0}},e.features.map((function(e,t){return r.a.createElement("li",{key:t,style:{fontWeight:600,margin:0,padding:0}},e.text,r.a.createElement("ul",{style:{margin:0,padding:0}},e.details.map((function(e,t){return r.a.createElement("li",{key:t,style:{listStyleType:"none",fontWeight:"normal",margin:0,padding:0}},e)}))))})))),r.a.createElement(g.a.Footer,null,r.a.createElement(d.LinkContainer,{to:e.button.link},r.a.createElement(p.a,{size:"sm"},e.button.text)))))}))))),r.a.createElement(y.a,{id:"container-facility",fluid:!0},this.state.copy.blurbs.slice(4,5).map((function(e,t){return r.a.createElement(y.a,{key:t},r.a.createElement("h3",null,e.title),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},e.copy.map((function(t,a){return r.a.createElement(f.a,{xl:12/e.copy.length,key:a},r.a.createElement(E.a,{src:t.image}),r.a.createElement("p",null,t.text))}))),r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},r.a.createElement(f.a,{xl:"auto",md:"auto"},r.a.createElement(d.LinkContainer,{to:"/book"},r.a.createElement(p.a,{size:"sm"},"book now")))))}))),r.a.createElement(y.a,{id:"container-map",ref:this.anchors.map,fluid:!0},r.a.createElement("div",{style:{height:"650px",width:"100%"}},r.a.createElement(O.a,{bootstrapURLKeys:{key:"AIzaSyCKw8by28pNI5tlimezyyjgtXz_Nvkq2-Y"},yesIWantToUseGoogleMapApiInternals:!0,defaultCenter:I,defaultZoom:14,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps,n=new a.Marker({position:I,map:t,title:"Bears Lairs, Bansko",description:"secure, self-storage in bansko with access at your convenience",link:{url:"https://www.google.com/maps/place/Bears+Lairs/@41.8223813,23.4681867,15z/data=!4m5!3m4!1s0x0:0xadd4ea4c0b9a3216!8m2!3d41.820631!4d23.478215",text:"maps.google.com/Bears+Lairs"}}),r=new a.InfoWindow({content:'<h4><img src="favicon-32x32.png" style="margin-right: 6px;" class="rounded-circle" />'+n.title+"</h4><p>"+n.description+'<br /><a href="'+n.link.url+'">'+n.link.text+"</a></p>"});r.open(t,n),n.addListener("click",(function(){t.setZoom(14),t.setCenter(n.getPosition()),r.open(t,n)}))}}))),r.a.createElement(y.a,{id:"container-footer",fluid:!0},r.a.createElement(y.a,null,r.a.createElement(v.a,{className:"justify-content-xl-center justify-content-md-center"},r.a.createElement(f.a,{xl:6},r.a.createElement("a",{href:"mailto:enquiries@bearslairs.eu"},"enquiries@bearslairs.eu"),r.a.createElement("hr",null),"\xa9 2020, Bears Lairs EOOD, Bulgaria. All rights reserved")))))}}]),a}(n.Component),M=a(42),G=a(10),A=C.parse(window.location.search),W=new x.a,q=["bg","en","ru"],F=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={language:"en",copy:{title:"",subtitle:"",languages:[]}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=q.includes(A.lang)?A.lang:q.includes(W.get("lang"))?W.get("lang"):this.state.language;this.setState((function(e){return{language:t,copy:e.copy}})),W.set("lang",t,{path:"/"}),fetch("https://raw.githubusercontent.com/bearslairs/bearslairs-data/master/copy/"+t+"/nav.json").then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{language:e.language,copy:t}}))})).catch(console.log)}},{key:"render",value:function(){return r.a.createElement("header",{className:"App-header clearfix"},r.a.createElement(d.LinkContainer,{to:"/"},r.a.createElement("div",null,r.a.createElement("img",{src:"favicon-32x32.png",alt:"bears lairs logo",style:{marginRight:"6px"},className:"float-left rounded-circle"}),r.a.createElement("h1",{className:"float-left"},this.state.copy.title))),r.a.createElement("h2",{className:"float-left text-muted"},this.state.copy.subtitle),r.a.createElement(d.LinkContainer,{to:"/book"},r.a.createElement(p.a,{className:"float-right"},"book")),r.a.createElement("span",{className:"float-right text-muted"},this.state.copy.languages.map((function(e){return r.a.createElement("a",{key:e,href:"?lang="+e,className:"text-muted"},e)}))))}}]),a}(n.Component),Z=(a(235),a(182)),H=(a(341),a(7)),J=a.n(H),K=a(88),P=a(60),Q=a(111),U=a.n(Q),X=a(184),Y=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).submit=n.submit.bind(Object(M.a)(n)),n}return Object(u.a)(a,[{key:"submit",value:function(){var e=Object(X.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"checkout"},r.a.createElement("p",null,"enter your payment card details below to complete your reservation"),r.a.createElement(P.CardElement,null),r.a.createElement("hr",null),r.a.createElement(p.a,{variant:"primary",onClick:this.submit},"Purchase"))}}]),a}(r.a.Component),V=Object(P.injectStripe)(Y),$=C.parse(window.location.search),ee=new x.a,te=["bg","en","ru"],ae=["small","medium","large","bicycle","motorcycle","large-motorcycle"],ne=K.c.initializeDefaultAppClient("bearslairsstitch-pkblb"),re=ne.getServiceClient(K.b.factory,"mongodb-atlas"),le=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e,n){var r;Object(s.a)(this,a),r=t.call(this,e,n);var l=te.includes($.lang)?$.lang:te.includes(ee.get("lang"))?ee.get("lang"):"en",c=ae.includes($.locker)?$.locker:"small",o=new Date;o.setHours(14,0,0,0),o.setDate(o.getDate()+1);var i=new Date;return i.setHours(12,0,0,0),i.setMonth(o.getMonth()+3),r.state={reservations:[],language:l,reservation:{from:o.toISOString(),to:i.toISOString(),name:"",email:"",telephone:"",locker:c,language:l},copy:{languages:[]}},r.handleChange=r.handleChange.bind(Object(M.a)(r)),r.displayReservations=r.displayReservations.bind(Object(M.a)(r)),r.addReservation=r.addReservation.bind(Object(M.a)(r)),r}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=e.target;this.setState((function(e){return e.reservation[t.id]=t.value,e}))}},{key:"componentDidMount",value:function(){var e=this;fetch("https://raw.githubusercontent.com/bearslairs/bearslairs-data/master/copy/"+this.state.language+"/book.json").then((function(e){return e.json()})).then((function(t){e.setState((function(e){return{language:e.language,reservation:e.reservation,copy:t}}))})).catch(console.log),this.db=re.db("bearslairs-bansko"),this.displayReservationsOnLoad()}},{key:"displayReservations",value:function(){var e=this;this.db.collection("reservations").find({},{limit:1e3}).asArray().then((function(t){e.setState({reservations:t})}))}},{key:"displayReservationsOnLoad",value:function(){ne.auth.loginWithCredential(new K.a).then(this.displayReservations).catch(console.error)}},{key:"addReservation",value:function(e){e.preventDefault();var t=this.state.reservation;this.db.collection("reservations").insertOne({owner_id:ne.auth.user.id,reservation:t}).then(this.displayReservations).catch(console.error)}},{key:"render",value:function(){var e=this;return r.a.createElement(y.a,null,r.a.createElement(F,null),r.a.createElement(v.a,{style:{paddingTop:"10px"}},r.a.createElement("h2",null,"make a reservation")),r.a.createElement(v.a,{style:{paddingTop:"10px"}},r.a.createElement(G.a,{onSubmit:this.addReservation},r.a.createElement(G.a.Group,{controlId:"name"},r.a.createElement(G.a.Label,null,"name"),r.a.createElement(G.a.Control,{type:"text",placeholder:"full name",value:this.state.reservation.name,onChange:this.handleChange})),r.a.createElement(G.a.Group,{controlId:"email"},r.a.createElement(G.a.Label,null,"email"),r.a.createElement(G.a.Control,{type:"email",placeholder:"email",value:this.state.reservation.email,onChange:this.handleChange}),r.a.createElement(G.a.Text,{className:"text-muted"},"we'll never share your email with anyone else.")),r.a.createElement(G.a.Group,{controlId:"telephone"},r.a.createElement(G.a.Label,null,"telephone"),r.a.createElement(G.a.Control,{type:"text",placeholder:"telephone number",value:this.state.reservation.telephone,onChange:this.handleChange})),r.a.createElement(G.a.Group,{controlId:"fromto"},r.a.createElement(G.a.Label,null,"reservation dates"),r.a.createElement("br",null),r.a.createElement(Z.DateRangePicker,{startDate:J()(this.state.reservation.from),startDateId:"reservation_from",endDate:J()(this.state.reservation.to),endDateId:"reservation_to",onDatesChange:function(t){var a=t.startDate,n=t.endDate;return e.setState((function(e){return e.reservation.from=a.toISOString(),e.reservation.to=n.toISOString(),e}))},focusedInput:this.state.focusedInput,onFocusChange:function(t){return e.setState({focusedInput:t})}})),r.a.createElement(G.a.Group,{controlId:"locker"},r.a.createElement(G.a.Label,null,"i would like to book storage"),r.a.createElement(G.a.Check,{type:"radio",label:"in a small locker",onChange:function(){return e.setState((function(e){return e.reservation.locker="small",e}))},checked:"small"===this.state.reservation.locker}),r.a.createElement(G.a.Check,{type:"radio",label:"in a medium locker",onChange:function(){return e.setState((function(e){return e.reservation.locker="medium",e}))},checked:"medium"===this.state.reservation.locker}),r.a.createElement(G.a.Check,{type:"radio",label:"in a large locker",onChange:function(){return e.setState((function(e){return e.reservation.locker="large",e}))},checked:"large"===this.state.reservation.locker}),r.a.createElement(G.a.Check,{type:"radio",label:"for a bicycle",onChange:function(){return e.setState((function(e){return e.reservation.locker="bicycle",e}))},checked:"bicycle"===this.state.reservation.locker}),r.a.createElement(G.a.Check,{type:"radio",label:"for a motorcycle",onChange:function(){return e.setState((function(e){return e.reservation.locker="motorcycle",e}))},checked:"motorcycle"===this.state.reservation.locker}),r.a.createElement(G.a.Check,{type:"radio",label:"for a large motorcycle",onChange:function(){return e.setState((function(e){return e.reservation.locker="large-motorcycle",e}))},checked:"large-motorcycle"===this.state.reservation.locker})),r.a.createElement(P.StripeProvider,{apiKey:"pk_test_kSrcl4f2BEKQTkQCIuDih41I000nfCqc5I"},r.a.createElement(P.Elements,null,r.a.createElement(V,null))))),"localhost"===window.location.hostname?r.a.createElement(v.a,null,r.a.createElement("pre",null,JSON.stringify(this.state,null,2))):null)}}]),a}(r.a.Component),ce=r.a.createElement(r.a.StrictMode,null,r.a.createElement(o.BrowserRouter,null,r.a.createElement(i.g,null,r.a.createElement(i.d,{exact:!0,path:"/",component:z}),r.a.createElement(i.d,{path:"/book",component:le}))));c.a.render(ce,document.getElementById("root"))}},[[186,1,2]]]);
//# sourceMappingURL=main.08aed16a.chunk.js.map